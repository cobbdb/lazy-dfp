window.henka=(function(d,b,e){var c={props:{nodes:[],lastWidth:0,body:{},currentBreak:"",originalHenka:d.henka||{}},init:function(){c.props.body=b.getElementsByTagName("body")[0];c.core.update();c.tools.attach()},core:{set:function(k){var g=JSON.parse(k.getAttribute("data-henka")),f="",j=k.className.split(" ");if(g){for(var h=g.length-1;h>=0;h--){if(c.core.check(g[h])){f="bp"+g[h]}var l=c.tools.indexOf(j,"bp"+g[h]);if(l>=0){j.splice(l,1)}}}if(f.length>0){j.push(f);c.props.currentBreak=f}else{c.props.currentBreak=e}if(k.className!=j.join(" ")){k.className=j.join(" ").replace(/^\s+|\s+$/g,"");if(typeof(yobidashi)!=="undefined"){yobidashi.pub("/henka/updated")}}},update:function(){c.core.set(c.props.body);if(typeof(yobidashi)!=="undefined"){yobidashi.pub("/henka/resized")}},check:function(f){return c.tools.innerWidth()<=f}},tools:{indexOf:function(f,h){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(f,h)}else{for(var g=f.length-1;g>=0;g--){if(h===f[g]){return g}}return -1}},innerWidth:function(){return d.innerWidth||b.documentElement.clientWidth},isMobileDevice:function(){var f=0,g=["iPad","iPhone","iPod","Android","webOS","BlackBerry","Windows Phone"];for(;f<g.length;f++){if(d.navigator.platform===g[f]){return true}}return false},attach:function(){var l=new Date("2000-01-01T12:00:00.000Z"),i=false,k=100,h=false,j=function(){if(h===false){h=true;d.setTimeout(function(){c.core.update()},0)}},g=function(){if(new Date()-l<k){d.setTimeout(g,0)}else{i=false;h=false;if(!c.tools.isMobileDevice()){j()}}},f=function(){var m=c.tools.innerWidth();if(c.props.lastWidth!=m){if(c.tools.isMobileDevice()){j()}l=new Date();if(i===false){i=true;d.setTimeout(g,k)}}c.props.lastWidth=m};if(d.addEventListener){d.addEventListener("resize",f,false)}else{d.attachEvent("onresize",f)}}}};var a=d.setInterval(function(){if(b.readyState==="complete"){d.clearInterval(a);c.init()}},10);c.api=(function(){return{noConflict:function(){d.henka=c.props.originalHenka;return c.api},currentBreak:function(){return c.props.currentBreak}}}());return c.api})(window,document);